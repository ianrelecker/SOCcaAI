# SOCca Data Directory

This directory contains data files used internally by the SOCca application:

## Structure

- `exports/`: Contains database exports in JSON format
  - `full_export_YYYYMMDD_HHMMSS/`: Full database exports with timestamp
  - Individual database exports with timestamp: `dbname_YYYYMMDD_HHMMSS.json`
- `cache/`: Contains cached data to improve performance
- `siem_output/`: Contains generated SIEM-compatible export files
  - `splunk_cve_reports_*.json`: Splunk-compatible JSON events
  - `elastic_cve_reports_*.json`: Elasticsearch Bulk API format
  - `qradar_cve_reports_*.leef`: QRadar LEEF format
  - `siem_alert_templates_*.json`: Detection rules and templates

## Working with Database Exports

Database exports are created to avoid storing .db files in git, which can cause corruption issues.

### Exporting Data

When you want to save your current database state:

```bash
python ../db_export.py
```

This will create JSON exports of all databases in the `exports/` directory.

### Importing Data

When setting up a new environment or restoring data:

```bash
python ../db_import.py --input exports/full_export_YYYYMMDD_HHMMSS/
```

Or for a specific database:

```bash
python ../db_import.py --input exports/processed_cves_YYYYMMDD_HHMMSS.json
```

## Working with SIEM Output Files

The SIEM output files are generated by the SIEM Parser and can be used to feed data into your SIEM system:

```bash
# Generate new SIEM export files
python ../siem_parser.py

# View the generated files
ls -la siem_output/
```

## Best Practices

1. Export your data before committing changes to git
2. Keep this directory in version control, but exclude the .db files
3. When sharing your work, share the exports rather than the .db files
4. Use the SIEM output files for integrating with security platforms